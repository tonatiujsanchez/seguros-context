var A=Object.defineProperty,F=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var x=(a,r,s)=>r in a?A(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s,g=(a,r)=>{for(var s in r||(r={}))M.call(r,s)&&x(a,s,r[s]);if(f)for(var s of f(r))R.call(r,s)&&x(a,s,r[s]);return a},N=(a,r)=>F(a,E(r));import{j as b,r as d,R as D,a as j}from"./vendor.1456c144.js";const z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&i(t)}).observe(document,{childList:!0,subtree:!0});function s(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=s(c);fetch(c.href,o)}};z();const P=a=>new Date().getFullYear()-a,L=(a,r)=>a*3*r/100,O=a=>{let r=1;switch(a){case"1":r=1.3;break;case"2":r=1.15;break;case"3":r=1.05;break;default:r=1;break}return r},Y=a=>a==="1"?1.2:1.5,T=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"}),e=b.exports.jsx,n=b.exports.jsxs,v=b.exports.Fragment,y=d.exports.createContext(),U=({children:a})=>{const[r,s]=d.exports.useState({marca:"",year:"",plan:"1"}),[i,c]=d.exports.useState(""),[o,t]=d.exports.useState(0),[h,u]=d.exports.useState(!1),m=l=>{s(N(g({},r),{[l.target.name]:l.target.value}))},C=()=>{u(!0);let l=2e3;const w=P(r.year);l-=L(w,l),l*=O(r.marca),l*=Y(r.plan),l=T(l),setTimeout(()=>{t(l),u(!1)},2e3)};return e(y.Provider,{value:{datos:r,handleChangeDatos:m,error:i,setError:c,cotizarSeguro:C,resultado:o,cargando:h},children:a})},p=()=>d.exports.useContext(y),B=()=>{const{error:a}=p();return e("div",{className:"p-3 text-center border border-red-400 bg-red-100 text-red-600 rounded-md",children:e("p",{children:a})})},k=[{id:1,nombre:"Europeo"},{id:2,nombre:"Americano"},{id:3,nombre:"As\xEDatico"}],I=new Date().getFullYear(),q=Array.from(new Array(20),(a,r)=>I-r),S=[{id:1,nombre:"B\xE1sico"},{id:2,nombre:"Completo"}],K=()=>{const{datos:a,handleChangeDatos:r,error:s,setError:i,cotizarSeguro:c}=p();return n(v,{children:[s&&e(B,{}),n("form",{onSubmit:t=>{if(t.preventDefault(),Object.values(a).includes("")){i("Todos los campos son obligatorios");return}i(""),c()},children:[n("div",{className:"my-5",children:[e("label",{htmlFor:"marca",className:"block mb-3 font-bold text-gray-500 uppercase",children:"Marca"}),n("select",{name:"marca",id:"marca",className:"w-full border border-gray-200 p-3 rounded-md",value:a.marca,onChange:r,children:[e("option",{value:"",children:"-- Seleciona Marca --"}),k.map(t=>e("option",{value:t.id,children:t.nombre},t.id))]})]}),n("div",{className:"my-5",children:[e("label",{htmlFor:"year",className:"block mb-3 font-bold text-gray-500 uppercase",children:"A\xF1o"}),n("select",{name:"year",id:"year",className:"w-full border border-gray-200 p-3 rounded-md",value:a.year,onChange:r,children:[e("option",{value:"",children:"-- Seleciona A\xF1o --"}),q.map(t=>e("option",{value:t,children:t},t))]})]}),n("div",{className:"my-5",children:[e("label",{htmlFor:"plan",className:"block mb-3 font-bold text-gray-500 uppercase",children:"Elige un plan"}),e("div",{className:"flex gap-10 ",children:S.map(t=>n("label",{className:"flex gap-1 items-center",children:[e("input",{type:"radio",name:"plan",id:"plan",checked:a.plan==t.id,value:t.id,onChange:r}),e("span",{children:t.nombre})]},t.id))})]}),e("input",{type:"submit",value:"Cotizar",className:"bg-indigo-500 text-white font-bold p-3 uppercase w-full rounded-md cursor-pointer hover:bg-indigo-600 transition-colors"})]})]})};const X=()=>n("div",{className:"sk-fading-circle",children:[e("div",{className:"sk-circle1 sk-circle"}),e("div",{className:"sk-circle2 sk-circle"}),e("div",{className:"sk-circle3 sk-circle"}),e("div",{className:"sk-circle4 sk-circle"}),e("div",{className:"sk-circle5 sk-circle"}),e("div",{className:"sk-circle6 sk-circle"}),e("div",{className:"sk-circle7 sk-circle"}),e("div",{className:"sk-circle8 sk-circle"}),e("div",{className:"sk-circle9 sk-circle"}),e("div",{className:"sk-circle10 sk-circle"}),e("div",{className:"sk-circle11 sk-circle"}),e("div",{className:"sk-circle12 sk-circle"})]}),$=()=>{const{datos:a,resultado:r,cargando:s}=p(),{marca:i,plan:c,year:o}=a,t=d.exports.useCallback(k.find(m=>m.id===Number(i)),[r]),h=d.exports.useCallback(S.find(m=>m.id===Number(c)),[r]),u=d.exports.useMemo(()=>o,[r]);return e("div",{className:"h-64 flex justify-center items-center  bg-gray-100 mt-10 rounded-md shadow-md",children:s?e(X,{}):r!==0?n("div",{className:"text-center",children:[e("h2",{className:"text-gray-500 font-black text-2xl mb-5",children:"RESUMEN"}),n("p",{className:"my-1",children:[e("span",{className:"font-bold",children:"Marca:"})," ",t.nombre]}),n("p",{className:"my-1",children:[e("span",{className:"font-bold",children:"Plan:"})," ",h.nombre]}),n("p",{className:"my-1",children:[e("span",{className:"font-bold",children:"A\xF1os de auto:"})," ",u]}),n("p",{className:"mt-2 text-xl",children:[e("span",{className:"font-bold",children:"Total Cotizaci\xF3n:"})," ",r]})]}):e("p",{className:"text-gray-400 font-bold text-xl",children:"Llene el formulario para cotizar"})})},G=()=>(p(),n(v,{children:[e("header",{className:"my-6",children:e("h1",{className:"text-white text-center text-3xl md:text-4xl font-black px-1 max-w-[28rem] md:max-w-[30rem] mx-auto uppercase",children:"Cotizador de Seguros con Context"})}),e("main",{className:"px-3 max-w-[600px] mx-auto",children:n("div",{className:"bg-white shadow rounded-lg p-10",children:[e(K,{}),e($,{})]})})]}));function H(){return e(U,{children:e(G,{})})}D.render(e(j.StrictMode,{children:e(H,{})}),document.getElementById("root"));
